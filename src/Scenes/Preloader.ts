namespace Sokoban {

	export class Preloader extends Phaser.Scene {

		preloadBar: Phaser.GameObjects.Sprite;
		background: Phaser.GameObjects.Sprite;
		ready: boolean = false;

        constructor() {
            super({
                key: 'preloader'
            })
        }

		preload() {
            this.load.spritesheet('tiles', 'assets/tiles.png', { frameWidth: 40, frameHeight: 40 });
		}

		create() {
            var level = [[1,1,1,1,1,1,1,1],
                         [1,0,0,1,1,1,1,1],
                         [1,0,0,1,1,1,1,1],
                         [1,0,0,0,0,0,0,1],
                         [1,1,4,2,1,3,0,1],
                         [1,0,0,0,1,0,0,1],
                         [1,0,0,0,1,1,1,1],
                         [1,1,1,1,1,1,1,1]];

            var newLevel = [
                [1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1],
                [1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1],
                [1,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,3,1,1],
                [1,0,1,2,2,2,1,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,1],
                [1,0,1,2,2,2,1,0,3,3,3,3,3,3,3,3,0,1,0,1,0,0,1],
                [1,0,1,2,2,3,0,0,3,0,0,0,0,0,0,3,1,2,0,3,0,0,1],
                [1,0,1,0,0,0,1,0,0,0,3,3,3,3,3,3,2,1,0,1,0,0,1],
                [1,0,1,2,2,2,1,0,1,0,2,2,2,2,2,1,0,0,0,2,1,1,1],
                [1,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,3,0,0,1],
                [1,4,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1],
                [1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1]
            ];

            var simpleLevel = [
                [1,1,1,1,1,1,1],
                [1,2,0,3,0,2,1],
                [1,0,3,4,3,0,1],
                [1,2,0,3,0,2,1],
                [1,1,1,1,1,1,1]
            ];

            var level4String = "#######|#.   .#|# $@$ #|# ### #|# $ $ #|#.   .#|#######";{}

			this.scene.start('gamePlay', { level: level4String });//, true, false, level4String);
		}
	}
}